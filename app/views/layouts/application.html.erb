<!DOCTYPE html>
<html>
  <head>
    <title><%= content_for(:title) || "Stock'Em" %></title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= yield :head %>

    <link rel="manifest" href="/manifest.json">
    <link rel="icon" href="/icon.png" type="image/png">
    <link rel="icon" href="/icon.svg" type="image/svg+xml">
    <link rel="apple-touch-icon" href="/icon.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <%= javascript_importmap_tags %>
  </head>

  <body>
    <% if flash.any? %>
      <div class="flash-container">
        <% flash.each do |key, message| %>
          <div class="flash-message <%= key %>"><%= message %></div>
        <% end %>
      </div>
    <% end %>
    <% if @current_user %>
    <header>
  <a href="/items" class="header-title" style="color: inherit; text-decoration: none;">Stock'Em</a>
  <div>
    <span class="greeting">Hello, <span id="username"><%= @current_user.first_name %></span></span>
    <button class="icon-button user-icon">
      <i class="fas fa-user"></i>
    <div class="dropdown-menu">
                <a href="/user_profiles">User Profile</a>
                <a href="/logout">Logout</a>  
    </div>
     </button>
  </div>
</header>
<% else %>
  <header style="width: -webkit-fill-available;">
    <div class="header-title">Stock'Em</div>
  </header>
<% end %>
 <div class="main-content" style="height: 88%; display: flex; width: 100%; flex-direction: row; justify-content: center; ">
      <%= yield %>
    </div>
  <footer style="width: -webkit-fill-available;">
  <div>The Stock'Em Team, 2024</div>
</footer>
  </body>
</html>
